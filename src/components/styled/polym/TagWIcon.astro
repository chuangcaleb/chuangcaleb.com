---
import { Icon } from "astro-icon/components";
import { type HTMLTag, type Polymorphic } from "astro/types";

type Props<Tag extends HTMLTag> = Polymorphic<{ as: Tag }> & {
  iconColor?: "unset" | "ax1" | "fg3";
  iconName?: string;
};

const {
  as: Tag = "h1",
  class: propsClass,
  iconColor = "ax1",
  iconName,
  ...props
} = Astro.props;
---

<Tag {...props} class:list={[propsClass]}>
  {
    iconName && (
      <Icon
        name={iconName}
        {...(iconColor !== "unset" && {
          style: { color: `var(--${iconColor})` },
        })}
      />
    )
  }
  <slot />
</Tag>

<style>
  * {
    display: inline-flex;
    align-items: center;
    gap: var(--size-ch-2);
  }
</style>
