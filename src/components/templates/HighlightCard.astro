---
import CapsAsH3 from "~/components/styled/monom/CapsAsH3.astro";
import UlIcon from "~/components/styled/monom/UlIcon.astro";
import StyleH3 from "~/components/styled/polym/StyleH3.astro";
import type { CollectionEntry } from "astro:content";

interface Props {
  highlight: CollectionEntry<"highlight">;
}

const { highlight } = Astro.props;

const components = {
  blockquote: "header",
  h1: CapsAsH3,
  h2: StyleH3,
  ul: UlIcon,
};

const { Content } = await highlight.render();
---

<article class="highlight">
  <Content components={components} />
</article>

<style is:global>
  .highlight {
    & > *:where(:not(:last-child)) {
      margin-bottom: var(--size-2);
    }
    h3 {
      margin-bottom: 0;
      font-size: var(--font-size-2);

      svg {
        width: var(--size-fluid-3);
      }
    }
    em {
      color: var(--text-muted);
    }
  }
</style>
