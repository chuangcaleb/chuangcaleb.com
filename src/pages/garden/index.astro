---
import { getCollection } from "astro:content";
import WIPDisclaimer from "~/components/block/WIPDisclaimer.astro";
import Base from "~/components/layout/Base.astro";
import Main from "~/components/layout/Main.astro";
import BrandA from "~/components/styled/monom/BrandA.astro";
import { getNoteName } from "~/utils/post";

const publicNotes = await getCollection("obsidian-note");
---

<Base>
  <Main>
    <WIPDisclaimer />
    <section class="cgrid-feature prose region flow-lg">
      <h1>All Notes</h1>
      <ul>
        {
          publicNotes?.map((n) => (
            <li>
              <BrandA href={`/garden/note/${n.slug}`}>
                {getNoteName(n.id)}
              </BrandA>
            </li>
          ))
        }
      </ul>
    </section>
  </Main>
</Base>
