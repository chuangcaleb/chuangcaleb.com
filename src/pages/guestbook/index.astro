---
import { getGuestbookPosts } from "lib/google-sheets/sheet";
import NoteLayout from "~/components/layout/NoteLayout/NoteLayout.astro";
import Post from "./_GuestPost.astro";
const title = "Guestbook";

const guestbookPosts = (await getGuestbookPosts())
  .filter((post) => post.isVerified)
  .reverse();
---

<NoteLayout title={title}>
  <h1>{title}</h1>
  <p>A collection of post-it notes, signed by people who know me!</p>
  {guestbookPosts.map((post) => <Post post={post} />)}
</NoteLayout>
